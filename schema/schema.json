{"$schema":"http://json-schema.org/draft-04/hyper-schema","id":"http://localhost:8080/schema","title":"蚁动事件引擎","type":"object","properties":{"AddListenPayload":{"$ref":"#/definitions/AddListenPayload"},"PostEventPayload":{"$ref":"#/definitions/PostEventPayload"},"PutEventPayload":{"$ref":"#/definitions/PutEventPayload"},"UpdateListenPayload":{"$ref":"#/definitions/UpdateListenPayload"},"analysis":{"$ref":"#/definitions/analysis"},"event":{"$ref":"#/definitions/event"},"listen":{"$ref":"#/definitions/listen"},"public":{"$ref":"#/definitions/public"},"swagger":{"$ref":"#/definitions/swagger"}},"definitions":{"AddListenPayload":{"title":"AddListenPayload","type":"object","properties":{"action":{"type":"string","description":"事件行为,不设置该项则注册监听所有行为变化","example":"Dolore unde placeat rem tempore dolorum eius."},"etype":{"type":"string","description":"事件类型","example":"Vero et illum ducimus."},"from":{"type":"string","description":"注册事件监听的服务器标识","example":"Quia perferendis nemo eligendi."},"hookurl":{"type":"string","description":"钩子url","example":"Dorothea Gleichner PhD","pattern":"^https?://((\\w)+.?)+/(\\w+)$"}},"example":{"action":"Dolore unde placeat rem tempore dolorum eius.","etype":"Vero et illum ducimus.","from":"Quia perferendis nemo eligendi.","hookurl":"Dorothea Gleichner PhD"},"required":["etype","hookurl","from"]},"PostEventPayload":{"title":"PostEventPayload","type":"object","properties":{"action":{"type":"string","description":"事件行为","example":"Quam ut."},"etype":{"type":"string","description":"事件类型","example":"Optio dicta molestias."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Ut non et."},"occtime":{"type":"string","description":"事件发生时间","example":"1980-08-20T13:58:33+08:00","format":"date-time"},"params":{"description":"事件发生时间","example":false}},"example":{"action":"Quam ut.","etype":"Optio dicta molestias.","from":"Ut non et.","occtime":"1980-08-20T13:58:33+08:00","params":false},"required":["etype","action","from"]},"PutEventPayload":{"title":"PutEventPayload","type":"object","properties":{"action":{"type":"string","description":"事件行为","example":"Consequatur ea dolores temporibus dolorem quis."},"etype":{"type":"string","description":"事件类型","example":"Perferendis saepe neque qui id tenetur ea."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Eum commodi molestiae est."},"occtime":{"type":"string","description":"事件发生时间","example":"1994-12-09T08:49:58+08:00","format":"date-time"},"params":{"description":"事件发生时间","example":"20ae5746-4c93-4160-ac7b-4975bd8804f2"}},"example":{"action":"Consequatur ea dolores temporibus dolorem quis.","etype":"Perferendis saepe neque qui id tenetur ea.","from":"Eum commodi molestiae est.","occtime":"1994-12-09T08:49:58+08:00","params":"20ae5746-4c93-4160-ac7b-4975bd8804f2"},"required":["etype","action","from"]},"UpdateListenPayload":{"title":"UpdateListenPayload","type":"object","properties":{"action":{"type":"string","description":"事件行为,不设置该项则注册监听所有行为变化","example":"Labore ut."},"etype":{"type":"string","description":"事件类型","example":"Modi et inventore rem ut."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Sunt enim."},"hookurl":{"type":"string","description":"钩子url","example":"Eaque odio officiis rerum eos delectus."}},"example":{"action":"Labore ut.","etype":"Modi et inventore rem ut.","from":"Sunt enim.","hookurl":"Eaque odio officiis rerum eos delectus."},"required":["etype","hookurl","from"]},"analysis":{"title":"analysis","type":"object","links":[{"title":"hook","rel":"hook","href":"/v1/admin/event/analysis/hook/{eid}","method":"GET"},{"title":"list","rel":"list","href":"/v1/admin/event/analysis","method":"GET"}]},"event":{"title":"event","type":"object","links":[{"title":"post","rel":"post","href":"/v1/event","method":"POST","schema":{"description":"post payload","$ref":"#/definitions/PostEventPayload"}},{"title":"put","rel":"put","href":"/v1/event/{eid}","method":"PUT","schema":{"description":"put payload","$ref":"#/definitions/PutEventPayload"}}]},"listen":{"title":"listen","type":"object","links":[{"title":"add","rel":"add","href":"/v1/admin/listen","method":"POST","schema":{"description":"add payload","$ref":"#/definitions/AddListenPayload"}},{"title":"list","rel":"list","href":"/v1/admin/listen","method":"GET"},{"title":"remove","rel":"remove","href":"/v1/admin/listen/{rid}","method":"DELETE"},{"title":"update","rel":"update","href":"/v1/admin/listen/{rid}","method":"PUT","schema":{"description":"update payload","$ref":"#/definitions/UpdateListenPayload"}}]},"public":{"title":"public","type":"object"},"swagger":{"title":"swagger","type":"object"}},"description":"这是一个事件服务引擎","links":[{"rel":"self","href":"http://localhost:8080"},{"rel":"self","href":"/schema","method":"GET","targetSchema":{"$schema":"http://json-schema.org/draft-04/hyper-schema","additionalProperties":true}}]}