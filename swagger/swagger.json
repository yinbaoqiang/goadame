{"swagger":"2.0","info":{"title":"蚁动事件引擎","description":"这是一个事件服务引擎","version":""},"host":"localhost:8080","basePath":"/v1","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/admin/event":{"get":{"tags":["regevent"],"summary":"list regevent","description":"注册事件监听","operationId":"regevent#list","produces":["vnd.ant.reg.list+json"],"parameters":[{"name":"count","in":"query","description":"事件行为,不设置该项则注册监听所有行为变化","required":false,"type":"integer"},{"name":"page","in":"query","description":"事件类型","required":false,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntRegList"}}},"schemes":["http"]}},"/admin/event/analysis":{"get":{"tags":["analysis"],"summary":"list analysis","description":"事件发生历史,可以","operationId":"analysis#list","produces":["vnd.ant.reg.list+json"],"parameters":[{"name":"action","in":"query","description":"行为","required":false,"type":"string"},{"name":"count","in":"query","description":"分页数量","required":false,"type":"integer","minimum":5},{"name":"etype","in":"query","description":"事件类型","required":false,"type":"string"},{"name":"from","in":"query","description":"来源","required":false,"type":"string"},{"name":"page","in":"query","description":"查询分页","required":false,"type":"integer","minimum":1}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntRegList"}}},"schemes":["http"]}},"/admin/event/analysis/back/{eid}":{"get":{"tags":["analysis"],"summary":"back analysis","description":"事件回调执行情况","operationId":"analysis#back","produces":["vnd.ant.even.back+json"],"parameters":[{"name":"eid","in":"path","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntEvenBack"}}},"schemes":["http"]}},"/admin/event/reg":{"post":{"tags":["regevent"],"summary":"add regevent","description":"注册事件监听","operationId":"regevent#add","produces":["vnd.ant.reg.result+json"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/AddRegeventPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntRegResult"}}},"schemes":["http"]}},"/admin/event/{rid}":{"delete":{"tags":["regevent"],"summary":"remove regevent","description":"取消事件监听","operationId":"regevent#remove","produces":["vnd.ant.result+json"],"parameters":[{"name":"rid","in":"path","description":"事件监听唯一标识","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntResult"}}},"schemes":["http"]}},"/event":{"post":{"tags":["event"],"summary":"post event","description":"创建一个事件","operationId":"event#post","produces":["vnd.ant.result+json"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/PostEventPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntResult"}}},"schemes":["http"]}},"/event/{eid}":{"put":{"tags":["event"],"summary":"put event","description":"创建一个事件","operationId":"event#put","produces":["vnd.ant.result+json"],"parameters":[{"name":"eid","in":"path","description":"事件唯一标识","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/PutEventPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntResult"}},"404":{"description":"Not Found"}},"schemes":["http"]}}},"definitions":{"AddRegeventPayload":{"title":"AddRegeventPayload","type":"object","properties":{"action":{"type":"string","description":"事件行为,不设置该项则注册监听所有行为变化","example":"Vero et illum ducimus."},"bakurl":{"type":"string","description":"回调路径","example":"Quia perferendis nemo eligendi."},"etype":{"type":"string","description":"事件类型","example":"Molestiae voluptates sed."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Labore ut."}},"example":{"action":"Vero et illum ducimus.","bakurl":"Quia perferendis nemo eligendi.","etype":"Molestiae voluptates sed.","from":"Labore ut."},"required":["etype","bakurl","from"]},"AntEvenBack":{"title":"Mediatype identifier: vnd.ant.even.back+json; view=default","type":"object","properties":{"backurl":{"type":"string","description":"回调连接","example":"Quibusdam praesentium ullam."},"eid":{"type":"string","description":"事件唯一标识","example":"Quia architecto."},"endTime":{"type":"string","description":"执行结束时间","example":"1986-09-12T07:55:11+09:00","format":"date-time"},"error":{"type":"string","description":"执行错误时的错误信息","example":"Voluptatum neque possimus alias doloremque minima."},"execTime":{"type":"integer","description":"执行时间,单位纳秒","example":2960211605084272050,"format":"int64"},"startTime":{"type":"string","description":"开始执行时间","example":"1977-07-22T17:16:32+08:00","format":"date-time"},"success":{"type":"boolean","description":"执行是否成功","example":true}},"description":"事件监听信息 (default view)","example":{"backurl":"Quibusdam praesentium ullam.","eid":"Quia architecto.","endTime":"1986-09-12T07:55:11+09:00","error":"Voluptatum neque possimus alias doloremque minima.","execTime":2960211605084272050,"startTime":"1977-07-22T17:16:32+08:00","success":true},"required":["eid","backurl","startTime","endTime","execTime","success"]},"AntReg":{"title":"Mediatype identifier: vnd.ant.reg+json; view=default","type":"object","properties":{"action":{"type":"string","description":"事件行为,不设置该项则注册监听所有行为变化","example":"Minima qui fugit rerum ab itaque nisi."},"backurl":{"type":"string","description":"回调路径","example":"Eius ad."},"etype":{"type":"string","description":"事件类型","example":"Suscipit sed ut laudantium illo non."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Earum et quia quia cum voluptate."},"rid":{"type":"string","description":"注册事件监听唯一标识","example":"Ut quam fugiat aliquid."}},"description":"事件监听信息 (default view)","example":{"action":"Minima qui fugit rerum ab itaque nisi.","backurl":"Eius ad.","etype":"Suscipit sed ut laudantium illo non.","from":"Earum et quia quia cum voluptate.","rid":"Ut quam fugiat aliquid."},"required":["rid","etype","backurl","from"]},"AntRegList":{"title":"Mediatype identifier: vnd.ant.reg.list+json; view=default","type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/AntReg"},"description":"事件类型","example":[{"action":"Minima qui fugit rerum ab itaque nisi.","backurl":"Eius ad.","etype":"Suscipit sed ut laudantium illo non.","from":"Earum et quia quia cum voluptate.","rid":"Ut quam fugiat aliquid."},{"action":"Minima qui fugit rerum ab itaque nisi.","backurl":"Eius ad.","etype":"Suscipit sed ut laudantium illo non.","from":"Earum et quia quia cum voluptate.","rid":"Ut quam fugiat aliquid."},{"action":"Minima qui fugit rerum ab itaque nisi.","backurl":"Eius ad.","etype":"Suscipit sed ut laudantium illo non.","from":"Earum et quia quia cum voluptate.","rid":"Ut quam fugiat aliquid."}]},"total":{"type":"integer","description":"总数量","example":4858312448244083270,"format":"int64"}},"description":"事件监听列表 (default view)","example":{"list":[{"action":"Minima qui fugit rerum ab itaque nisi.","backurl":"Eius ad.","etype":"Suscipit sed ut laudantium illo non.","from":"Earum et quia quia cum voluptate.","rid":"Ut quam fugiat aliquid."},{"action":"Minima qui fugit rerum ab itaque nisi.","backurl":"Eius ad.","etype":"Suscipit sed ut laudantium illo non.","from":"Earum et quia quia cum voluptate.","rid":"Ut quam fugiat aliquid."},{"action":"Minima qui fugit rerum ab itaque nisi.","backurl":"Eius ad.","etype":"Suscipit sed ut laudantium illo non.","from":"Earum et quia quia cum voluptate.","rid":"Ut quam fugiat aliquid."}],"total":4858312448244083270},"required":["total"]},"AntRegResult":{"title":"Mediatype identifier: vnd.ant.reg.result+json; view=default","type":"object","properties":{"ok":{"type":"boolean","description":"成功标识","example":true}},"description":"注册事件监听成功 (default view)","example":{"ok":true}},"AntResult":{"title":"Mediatype identifier: vnd.ant.result+json; view=default","type":"object","properties":{"eid":{"type":"string","description":"事件唯一标识","example":"Fuga nemo sit aut neque qui."}},"description":"创建事件成功返回 (default view)","example":{"eid":"Fuga nemo sit aut neque qui."}},"PostEventPayload":{"title":"PostEventPayload","type":"object","properties":{"action":{"type":"string","description":"事件行为","example":"Omnis aliquid optio odio."},"etype":{"type":"string","description":"事件类型","example":"Molestias quam ut voluptas optio."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Molestias officiis ut non et."},"occtime":{"type":"string","description":"事件发生时间","example":"Officia aperiam est consequatur."},"params":{"description":"事件发生时间","example":true}},"example":{"action":"Omnis aliquid optio odio.","etype":"Molestias quam ut voluptas optio.","from":"Molestias officiis ut non et.","occtime":"Officia aperiam est consequatur.","params":true},"required":["etype","action","from"]},"PutEventPayload":{"title":"PutEventPayload","type":"object","properties":{"action":{"type":"string","description":"事件行为","example":"Dolorem quis dolorem perferendis saepe neque."},"etype":{"type":"string","description":"事件类型","example":"Id tenetur ea sapiente eum commodi."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Est voluptas dolorum qui dolore unde."},"occtime":{"type":"string","description":"事件发生时间","example":"Rem tempore."},"params":{"description":"事件发生时间","example":"1977-05-08T18:42:53+08:00"}},"example":{"action":"Dolorem quis dolorem perferendis saepe neque.","etype":"Id tenetur ea sapiente eum commodi.","from":"Est voluptas dolorum qui dolore unde.","occtime":"Rem tempore.","params":"1977-05-08T18:42:53+08:00"},"required":["etype","action","from"]}},"responses":{"NotFound":{"description":"Not Found"}}}