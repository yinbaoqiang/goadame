{"swagger":"2.0","info":{"title":"蚁动事件引擎","description":"这是一个事件服务引擎","version":""},"host":"localhost:8080","basePath":"/v1","schemes":["http"],"consumes":["application/json"],"produces":["application/json"],"paths":{"/admin/event":{"get":{"tags":["regevent"],"summary":"list regevent","description":"注册事件监听","operationId":"regevent#list","produces":["application/vnd.ant.reg.list+json"],"parameters":[{"name":"count","in":"query","description":"事件行为,不设置该项则注册监听所有行为变化","required":false,"type":"integer"},{"name":"page","in":"query","description":"事件类型","required":false,"type":"integer"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntRegList"}}},"schemes":["http"]}},"/admin/event/reg":{"post":{"tags":["regevent"],"summary":"add regevent","description":"注册事件监听","operationId":"regevent#add","produces":["application/vnd.ant.reg.result+json"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/AddRegeventPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntRegResult"}}},"schemes":["http"]}},"/admin/event/{rid}":{"delete":{"tags":["regevent"],"summary":"remove regevent","description":"取消事件监听","operationId":"regevent#remove","produces":["application/vnd.ant.result+json"],"parameters":[{"name":"rid","in":"path","description":"事件监听唯一标识","required":true,"type":"string"}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntResult"}}},"schemes":["http"]}},"/event":{"post":{"tags":["event"],"summary":"post event","description":"创建一个事件","operationId":"event#post","produces":["application/vnd.ant.result+json"],"parameters":[{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/PostEventPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntResult"}}},"schemes":["http"]}},"/event/{eid}":{"put":{"tags":["event"],"summary":"put event","description":"创建一个事件","operationId":"event#put","produces":["application/vnd.ant.result+json"],"parameters":[{"name":"eid","in":"path","description":"事件唯一标识","required":true,"type":"string"},{"name":"payload","in":"body","required":true,"schema":{"$ref":"#/definitions/PutEventPayload"}}],"responses":{"200":{"description":"OK","schema":{"$ref":"#/definitions/AntResult"}},"404":{"description":"Not Found"}},"schemes":["http"]}}},"definitions":{"AddRegeventPayload":{"title":"AddRegeventPayload","type":"object","properties":{"action":{"type":"string","description":"事件行为,不设置该项则注册监听所有行为变化","example":"Quam fugiat aliquid repudiandae."},"bakurl":{"type":"string","description":"回调路径","example":"Recusandae repellendus rerum dolorem libero sunt."},"etype":{"type":"string","description":"事件类型","example":"Nemo sit aut neque."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Minus omnis aliquid optio."}},"example":{"action":"Quam fugiat aliquid repudiandae.","bakurl":"Recusandae repellendus rerum dolorem libero sunt.","etype":"Nemo sit aut neque.","from":"Minus omnis aliquid optio."},"required":["etype","bakurl","from"]},"AntReg":{"title":"Mediatype identifier: application/vnd.ant.reg+json; view=default","type":"object","properties":{"action":{"type":"string","description":"事件行为,不设置该项则注册监听所有行为变化","example":"Quibusdam praesentium ullam."},"bakurl":{"type":"string","description":"回调路径","example":"Quia architecto."},"etype":{"type":"string","description":"事件类型","example":"Soluta voluptatum neque possimus alias."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Minima eum modi et corporis corporis."},"rid":{"type":"string","description":"注册事件监听唯一标识","example":"Reprehenderit asperiores consequatur vitae ut."}},"description":"事件监听信息 (default view)","example":{"action":"Quibusdam praesentium ullam.","bakurl":"Quia architecto.","etype":"Soluta voluptatum neque possimus alias.","from":"Minima eum modi et corporis corporis.","rid":"Reprehenderit asperiores consequatur vitae ut."},"required":["rid","etype","bakurl","from"]},"AntRegList":{"title":"Mediatype identifier: application/vnd.ant.reg.list+json; view=default","type":"object","properties":{"list":{"type":"array","items":{"$ref":"#/definitions/AntReg"},"description":"事件类型","example":[{"action":"Quibusdam praesentium ullam.","bakurl":"Quia architecto.","etype":"Soluta voluptatum neque possimus alias.","from":"Minima eum modi et corporis corporis.","rid":"Reprehenderit asperiores consequatur vitae ut."},{"action":"Quibusdam praesentium ullam.","bakurl":"Quia architecto.","etype":"Soluta voluptatum neque possimus alias.","from":"Minima eum modi et corporis corporis.","rid":"Reprehenderit asperiores consequatur vitae ut."}]},"total":{"type":"integer","description":"总数量","example":852082381492404730,"format":"int64"}},"description":"事件监听列表 (default view)","example":{"list":[{"action":"Quibusdam praesentium ullam.","bakurl":"Quia architecto.","etype":"Soluta voluptatum neque possimus alias.","from":"Minima eum modi et corporis corporis.","rid":"Reprehenderit asperiores consequatur vitae ut."},{"action":"Quibusdam praesentium ullam.","bakurl":"Quia architecto.","etype":"Soluta voluptatum neque possimus alias.","from":"Minima eum modi et corporis corporis.","rid":"Reprehenderit asperiores consequatur vitae ut."}],"total":852082381492404730},"required":["total"]},"AntRegResult":{"title":"Mediatype identifier: application/vnd.ant.reg.result+json; view=default","type":"object","properties":{"ok":{"type":"boolean","description":"成功标识","example":true}},"description":"注册事件监听成功 (default view)","example":{"ok":true}},"AntResult":{"title":"Mediatype identifier: application/vnd.ant.result+json; view=default","type":"object","properties":{"eid":{"type":"string","description":"事件唯一标识","example":"Quod quia aut non eius."}},"description":"创建事件成功返回 (default view)","example":{"eid":"Quod quia aut non eius."}},"PostEventPayload":{"title":"PostEventPayload","type":"object","properties":{"action":{"type":"string","description":"事件行为","example":"Consequuntur voluptas."},"etype":{"type":"string","description":"事件类型","example":"Quibusdam dolores et excepturi asperiores porro ipsum."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Facere aspernatur natus modi quia."},"occtime":{"type":"string","description":"事件发生时间","example":"Tenetur corporis sequi illo dolor deserunt ipsam."},"params":{"description":"事件发生时间","example":true}},"example":{"action":"Consequuntur voluptas.","etype":"Quibusdam dolores et excepturi asperiores porro ipsum.","from":"Facere aspernatur natus modi quia.","occtime":"Tenetur corporis sequi illo dolor deserunt ipsam.","params":true},"required":["etype","action","from"]},"PutEventPayload":{"title":"PutEventPayload","type":"object","properties":{"action":{"type":"string","description":"事件行为","example":"Qui fugit rerum ab itaque."},"etype":{"type":"string","description":"事件类型","example":"Sit eius ad voluptas suscipit sed."},"from":{"type":"string","description":"产生事件的服务器标识","example":"Laudantium illo non."},"occtime":{"type":"string","description":"事件发生时间","example":"Earum et quia quia cum voluptate."},"params":{"description":"事件发生时间","example":"1332dacb-ae10-4960-a446-41f85d722f0e"}},"example":{"action":"Qui fugit rerum ab itaque.","etype":"Sit eius ad voluptas suscipit sed.","from":"Laudantium illo non.","occtime":"Earum et quia quia cum voluptate.","params":"1332dacb-ae10-4960-a446-41f85d722f0e"},"required":["etype","action","from"]}},"responses":{"NotFound":{"description":"Not Found"}}}